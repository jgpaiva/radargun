<?xml version="1.0" encoding="UTF-8"?>

<infinispan xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="urn:infinispan:config:4.0">
    <global>
        <globalJmxStatistics
                enabled="true"
                jmxDomain="org.infinispan"/>

        <transport
                clusterName="infinispan-cluster">
            <properties>
                <property
                        name="configurationFile"
                        value="jgroups/jgroups-udp.xml"/>
            </properties>
        </transport>
    </global>

    <default>

        <deadlockDetection
                enabled="true"/>

        <jmxStatistics
                enabled="true"/>
        <!--<jmxStatistics enabled="true" topKValue="5"/>-->
        <!--<jmxStatistics enabled="true" streamLibEnabled="true" topK="5"/>-->

        <transaction
                transactionManagerLookupClass="org.infinispan.transaction.lookup.GenericTransactionManagerLookup"/>

        <locking
                isolationLevel="READ_COMMITTED"
                lockAcquisitionTimeout="1000"
                writeSkewCheck="false"
                concurrencyLevel="500"
                useLockStriping="false" />

        <deadlockDetection enabled="true"/>

        <clustering mode="r">
            <sync
                    replTimeout="20000"/>
            <stateRetrieval
                    alwaysProvideInMemoryState="true"
                    fetchInMemoryState="false"
                    timeout="20000"/>
        </clustering>
    </default>
</infinispan>
