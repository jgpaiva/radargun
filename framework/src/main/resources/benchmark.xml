<bench-config>

    <master bindAddress="${127.0.0.1:master.address}" port="${2103:master.port}"/>

    <benchmark
            initSize="2"
            maxSize="${2:slaves}"
            increment="1">

        <DestroyWrapper
                runOnAllSlaves="true"/>

        <StartCluster
                staggerSlaveStartup="true"
                delayAfterFirstSlaveStarts="5000"
                delayBetweenStartingSlaves = "500"/>

        <ClusterValidation
                partialReplication="false"/>

        <Warmup
                operationCount="1000"/>

        <WebSessionBenchmark
                perThreadSimulTime="30000000000"
                opsCountStatusLog="5000"
                numberOfAttributes="1000"
                sizeOfAnAttribute="1000"
                numOfThreads="2"
                writePercentage="50"
                lowerBoundOp="10"
                upperBoundOp="10"
                coordinatorParticipation="true"
                readOnlyTransactionsEnabled="false"
                noContentionEnabled="false"/>

        <GetKeys/>
        <CsvReportGeneration/>
    </benchmark>

    <products>
        <infinispan4>
<!--            <config name="repl-sync.xml"/>-->
<!--            <config name="repl-async.xml"/>-->
<!--            <config name="to-repl-sync.xml"/>-->
<!--            <config name="to-repl-async.xml"/>-->
<!--            <config name="dist-sync.xml"/>-->
<!--            <config name="part-repl.xml"/>-->

        </infinispan4>
    </products>

    <reports>
        <report name="Replicated">
<!--            <item product="infinispan4" config="repl-sync.xml"/>-->
<!--            <item product="infinispan4" config="repl-async.xml"/>-->
<!--            <item product="infinispan4" config="to-repl-sync.xml"/>-->
<!--            <item product="infinispan4" config="to-repl-async.xml"/>-->
<!--            <item product="infinispan4" config="dist-sync.xml"/>-->
<!--            <item product="infinispan4" config="part-repl.xml"/>-->
        </report>
    </reports>

</bench-config>